# 多语言翻译

## 前端代码多语言

## 后端代码多语言
### 自定义异常消息
* 字符串 key 必须是小写字母，且单词间用逗号间隔.
* 有参消息，通过数字序号标识参数顺序，以应对不同语言的译文语序不通.

示例：
```java
    throw new BusinessException("workflow.already.approved.1", recordName);
```

### 验证消息
根据 `org/hibernate/validator/messageinterpolation/AbstractMessageInterpolator.java:256`,
验证消息必须用大括号包围。

示例：
```java
    @NotBlank(message = "{login.username.empty}")
    private String username;

    @NotBlank(message = "{login.password.empty}")
    private String password;
```

### 手动获取译文
如手动拼接消息等场景下，会需要手动调用 `I18n.java` 工具类的静态方法获取译文。
```java
    I18n.get("api.hello.world");
    I18n.get("hello.world", Locale.SIMPLIFIED_CHINESE);
    I18n.get("hello.world {0} {1}", firstName, lastName)
```

## 翻译优先级:
### 语言优先级
1. 用户语言环境
2. URI 参数语言： `?language=xxx`

### 译文查找优先级
1. 优先使用翻译文件中的译文。
2. 找不到当前语言对应的译文时，返回默认语言对应的译文。
3. 默认语言也没有对应译文时，返回原始 `code`

注意：底层依赖组件抛出的异常消息，可能仍然是原始文本。
